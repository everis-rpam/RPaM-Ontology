@prefix :       <https://joinup.ec.europa.eu/collection/rpam/1.1.0/ontology#> .
@prefix owl:    <http://www.w3.org/2002/07/owl#> .
@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix ubl:    <http://docs.oasis-open.org/ubl#> .
@prefix xml:    <http://www.w3.org/XML/1998/namespace> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix ccev:   <https://joinup.ec.europa.eu/collection/semic/ccev/2.0.3/ontology#> .
@prefix ccts:   <http://www.unece.org/cefact#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos:   <http://www.w3.org/2004/02/skos/core#> .
@prefix foaf:   <http://xmlns.com/foaf/0.1/> .
@prefix dct:    <http://purl.org/dc/elements/1.1/> .
@prefix adms:   <http://www.w3.org/ns/adms#> .
@prefix dcat:   <http://www.w3.org/ns/dcat#> .
@prefix pwr:    <http://data.europa.eu/RPaM/ontology/rd/powers#> .
@prefix stat:   <http://data.europa.eu/RPaM/ontology/rd/status#> .
@prefix uc:     <http://data.europa.eu/RPaM/ontology/rd/units#> .
@prefix ict:    <https://joinup.ec.europa.eu/collection/rpam/1.0.0/thesauri/irctype#> .
@prefix ctx:    <https://joinup.ec.europa.eu/collection/rpam/1.0.0/thesauri/constrainttaxonomy#> .
@prefix at:     <https://joinup.ec.europa.eu/collection/rpam/1.0.0/thesauri/administrationleveltype#> .


<https://joinup.ec.europa.eu/collection/rpam/1.1.0/ontology#> rdf:type owl:Ontology ;
                                        owl:versionIRI <https://joinup.ec.europa.eu/collection/rpam/1.1.0/ontology> ;
                                        dct:description "A Data Set with example (fake) Mandates conformat to the RPaM Ontology specification."@en ,
                                                        "BEWARE that this Ontology is an ongoing development"@en ;
                                        dct:title "Representation Powers and Mandates"@en ;
                                        dct:publisher "European Commission, ISA2 Programme"@en ;
                                        dct:creator "everis, Spain, S.L.U"@en ;
                                        dcat:distribution [
                                                skos:note "The GitHub Repository where this development is being maintained."@en ;
                                                dcat:accessURL <https://github.com/everis-rpam> ;
                                                skos:note "The URL GitHub Repository to download this file."@en ;
                                                dcat:downloadURL <https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/07-Testing/Mandates/Mandates-Dataset-01.ttl>
                                        ] .


######################################  MANDATE #1  ###############################################
### An individual (e.g. an instance) of a Mandate empowering where three powers are assigned. 
### Beware that the Mandatee does not contain any Service Provider Information Requirements (SP-IRs): 
### Mandates are agnostic of the Services which may use it. Which does not imply that the 
### eMandate Response provided by one eMandate Register may contain SP-IRs and related constraints.
###################################################################################################
:MANDATE-1 rdf:type :Mandate;
    :id [
                ccts:identifierValue "M-1"     ;
                ccts:schemeID "MANDATE"      ;
                ccts:schemeAgencyID "ES-RAE" ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "The Mandate lifeSpan informs about when the Mandate was created and when it was struck-off from the register."@en ,
              "If no endDateTime or durationMeansure are specificed it implies that the mandate is still alive."@en ;
    # This Mandate is still 'alive' in the Registry.
    :lifeSpan [ubl:startDateTime "2019-01-29T21:57:00"^^xsd:dateTime ] ;
    :hasPower :POWER-1, :POWER-2, :POWER-3     
    .

######################################  MANDATE #2  ###############################################
:MANDATE-2 rdf:type :Mandate ;
    # For details on the ISO-15000-5 CCTS (Core Component Type Scpecification, prefix ccts herein, see
    # https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/03-Syntax_Bindings/OWL-DL-TTL/ccts/ccts.ttl
    :id [
                ccts:identifierValue "M-2"     ;
                ccts:schemeID "MANDATE"      ;
                ccts:schemeAgencyID "ES-RAE" ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    # This Mandate is still 'alive' in the Registry, but will presumably be struck-off from the Register on the 31st. February 2019.
    :lifeSpan [ubl:startDateTime "2018-01-29T21:57:00"^^xsd:dateTime ; ubl:endDateTime "2019-02-31T21:57:00"^^xsd:dateTime ];
    :hasPower :POWER-4, :POWER-5, :POWER-6, :POWER-7 .      

######################################  MANDATE #3  ###############################################
:MANDATE-3 rdf:type :Mandate ;
    :id [
                ccts:identifierValue "M-3"     ;
                ccts:schemeID "MANDATE"      ;
                ccts:schemeAgencyID "ES-RAE" ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    # This Mandate was presumably struck-off from the Register ten months after the date it was created (2017-95-30).
    :lifeSpan [
                    ubl:startDateTime "2017-05-30T21:57:00"^^xsd:dateTime ; 
                    ubl:durationMeasure [
                        ccts:measureValue "10"^^xsd:positiveInteger ;
                        ccts:unitCode uc:MONTH
                    ]
              ];
    :hasPower :POWER-1, :POWER-5, :POWER-7 .      

######################################  POWER #1  ###############################################
### An individual (e.g. an instance) of a Power. The Power is the core link between
### The Mandator and the Mandatee, as an individual of Power is assigned by the Mandator to owl:one
### or more Mandatees.
### Beware that the Powers may have different constraints for the Mandator and for the Mandatee(s).
### This constraints are not directly linked to the Power but to the different Agents that intervene, 
### namely the Mandator and the Mandatee: *the Power is agnostic of the constraints that may be 
### applied to it*.
###
### In this example, this is the Power of Mandator 1, a Natural Person Named "Serge Novack" 
### (MANDATOR-1), who empowers two other Natural Persons, "Paula Keen" (named individual
### (MANDATEE-1) and "Emma Geminada" (named individual MANDATEE-2).
### Notice that the Mandator is the "owner" of the Power, meaning that the Power was not assigned 
### to him by another Person, which is inferred by the value of the "currentDelegationLevel".
### Therefore there are no constraints applied to him. However, this Mandator will apply an 
### Administrative constraint to Paula Keen: she will only be able to act on Serge's behalf in 
### front of any EU Local Public Administation, but not in National nor Regional or 
### EU Administrations. To see this look into the individual (instance) MANDATEE-1.
###################################################################################################
:POWER-1 rdf:type :Power ;
    :id [
                ccts:identifierValue "P-1"            ;
                ccts:schemeID "POWER"             ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    # See the EU Powers Taxonomy in the RPaM GitHub repository. See examples of this Power in
    # <https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/03-Syntax_Bindings/OWL-DL-TTL/rpam/EU_Powers_Taxonomy.ttl>
    skos:note "Powers related to study and education activities."@en ;
    :powerType pwr:WORKING ;
    # The Power is active. See code list in:
    # <https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/03-Syntax_Bindings/OWL-DL-TTL/rpam/EU_Power_Status_Taxonomy.ttl>
    :statusType stat:CONFIRMED ;
    # The one who has the power and empowers other Persons.
    :powerOf :MANDATOR-2 ;
    # The Persons empowered by the Mandator.
    :assignedTo :MANDATEE-1, :MANDATEE-2 ;
    #This power has not been delegated to any Mandatee. In other words, the Mandator is the first Person in a chain of exactly one Mandate.
    :currentDelegationLevel 1 .

######################################  POWER #2  ###############################################
### In this example, this is the Power of Mandator 2, a Natural Person Named 
### "Francisco Lemur Cifrado", who was assigned this Power in another Mandatee
### (observe that the level of delegation is 2). 
### This Mandator is going to assign powers related to business and financial operations to
### the Mandatees "Vicenç Pons i Torra" and "Rosa De La Fuente" (Mandatees 3 and 4).
###################################################################################################
:POWER-2 rdf:type :Power ;
    :id [
                ccts:identifierValue "P-2"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "Powers related to certain activities at the time of the establishment of a business."@en ;
    :powerType pwr:STARTING_BUSINESS ;
    :statusType stat:CONFIRMED ;
    :powerOf :MANDATOR-1 ;
    :assignedTo :MANDATEE-3, :MANDATEE-4 ;
    # The Mandator is the Mandatee of another Mandate.
    :currentDelegationLevel 2 .

######################################  POWER #3  ###############################################
:POWER-3 rdf:type :Power ;
    :id [
                ccts:identifierValue "P-3"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "Powers related to certain activities at the time of cunducting business."@en ;
    :powerType pwr:DOING_BUSINESS ;
    :statusType stat:CONFIRMED ;
    :powerOf :MANDATOR-1 ;
    :assignedTo :MANDATEE-3, :MANDATEE-4 ;
    # The Mandator is the Mandatee of another Mandate.
    :currentDelegationLevel 2 .

######################################  POWER #4  ###############################################
:POWER-4 rdf:type :Power ;
    :id [
                ccts:identifierValue "P-4"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "Powers related to moving activities, either in the same region or in a different region."@en ;
    :powerType pwr:MOVING ;
    :statusType stat:CONFIRMED ;
    :powerOf :MANDATOR-2 ;
    :assignedTo :MANDATEE-1, :MANDATEE-2 ;
    :currentDelegationLevel 1 .

######################################  POWER #5  ###############################################
:POWER-5 rdf:type :Power ;
    :id [
                ccts:identifierValue "P-5"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "The action of presenting a proposal, application, or other document for consideration or judgement."@en ;
    :powerType pwr:SUBMIT ;
    :statusType stat:CONFIRMED ;
    :powerOf :MANDATOR-2 ;
    :assignedTo :MANDATEE-1, :MANDATEE-2 ;
    :currentDelegationLevel 1 .

######################################  POWER #6  ###############################################
:POWER-6 rdf:type :Power ;
    :id [
                ccts:identifierValue "P-6"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "Powers related to activities that refer to birth."@en ;
    :powerType pwr:BIRTH ;
    :statusType stat:CONFIRMED ;
    :powerOf :MANDATOR-2 ;
    :assignedTo :MANDATEE-1, :MANDATEE-2 ;
    :currentDelegationLevel 1 .

######################################  POWER #7  ###############################################
:POWER-7 rdf:type :Power ;
    :id [
                ccts:identifierValue "P-7"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "The act to get something by paying money for it."@en ;
    :powerType pwr:BUY ;
    :statusType stat:CONFIRMED ;
    :powerOf :MANDATOR-1 ;
    :assignedTo :MANDATEE-3, :MANDATEE-4 ;
    # The Mandator is the Mandatee of another Mandate.
    :currentDelegationLevel 2 .

######################################  MANDATOR #1  ###############################################
### In this example the Natural Person 'Serge Novack' (named individual MANDATOR-1) will hold 
### powers related mainly to financial operations (see Powers assigned to this Mandator, above).
### We will use this Mandator to illustrate how the financial constraints applied to his powers are different
### to the financial constraints of other Mandatees.
###################################################################################################

:MANDATOR-1 rdf:type :Mandator, foaf:Person ;
    :id [
                ccts:identifierValue "00775083-X"   ;
                ccts:schemeID "ES-NIE"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Serge" ; :familyName "Novack" .

######################################  MANDATOR #2  ###############################################
:MANDATOR-2 rdf:type :Mandator, foaf:Person ;
    :id [
                ccts:identifierValue "20775083-D"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Vicente" ; :familyName "Francisco Lemur Cifrado" .

######################################  MANDATEE #1  ###############################################
:MANDATEE-1 rdf:type :Mandatee, foaf:Person ;
    :id [
                ccts:identifierValue "16124678-X"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Paula" ; 
    :familyName "Keen" ;
    :constraint :CONSTRAINT-1 .

######################################  MANDATEE #2  ###############################################
:MANDATEE-2 rdf:type :Mandatee, foaf:Person ;
    :id [
                ccts:identifierValue "46620667-P"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Emma" ; :familyName "Geminada" .

######################################  MANDATEE #3  ###############################################
:MANDATEE-3 rdf:type :Mandatee, foaf:Person ;
    :id [
                ccts:identifierValue "545519556-Q"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Vicenç" ; :familyName "Pons i Torra" .

######################################  MANDATEE #4  ###############################################
:MANDATEE-4 rdf:type :Mandatee, foaf:Person ;
    :id [
                ccts:identifierValue "72345671-S"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Rosa" ; :familyName "De La Fuente-Brolladora" .

######################################  CONSTRAINT #1  ###############################################
### From the perspective of this model, Powers *are not* constrained, but *the use* of the powers 
### assigned to mandatees or mandators with delegated powers may be constrained. As constraints 
### are linked to Mandator and Mandatee, and these to Power, and Power to Mandate, there's a 4-nary 
### relation between:
### (1) Mandator(and its constraints)-(2)Power-(3)Mandatee(and its constraints)-(4)Mandate.
###################################################################################################
:CONSTRAINT-1 rdf:type ccev:Criterion ;
    ccev:id [
                ccev:identifierValue "6cc9308f-ff00-4e98-9de2-cc76f1b5f8e2" ;
                ccts:schemeID "UUID"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY" ;         
                ccts:schemeVersionID "4" 
            ] ;
    # The description of the criterion
    ccev:description "Administrative constraint about the power to act only in certain Public Administration Level"@en ;
    ccev:type ctx:ADMINISTRATION_LEVEL ;
    ccev:group [
                 ccev:property [
                                 ccev:name "Administrative Level"@en ;
                                 ccev:description "The level of the Public Administration for which the Mandatee has the power of acting on behalf of the Mandator"@en ;
                                 ccev:type ict:CONSTRAINT ;
                                 ccev:constraint [ccev:datumCode at:LOCAL ]
                                ]
               ] .
